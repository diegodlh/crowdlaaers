<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-121574943-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-121574943-1');
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <title>CROWDLAAERS</title>
    <link href="https://crowdlaaers.org/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://crowdlaaers.org/css/dashboard.css" rel="stylesheet">
    <script type="text/javascript" src="https://jonudell.info/hlib/showdown.js"></script>
    <script type="text/javascript" src="https://jonudell.info/hlib/hlib.bundle.js"></script>
    <script type="text/javascript" src="syl/marginalsyllabus.js"></script>
    <script type="text/javascript" src="js/crowdlaaers.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark navbar-dark fixed-top bg-secondary flex-md-nowrap p-0">
      <a class="navbar-brand col-lg-2 col-md-2" href="https://crowdlaaers.org">CROWDLAAERS</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarColor01">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="https://crowdlaaers.org">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://crowdlaaers.org/about.html">About</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Projects
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="https://crowdlaaers.org/projects/marginalsyllabus.html">Marginal Syllabus</a>
              <a class="dropdown-item" href="https://crowdlaaers.org/projects/equityunbound.html">#UnboundEq</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
          <div class="sidebar-sticky">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="#" id="urlShare">
                  <span data-feather="share"></span>
                  Share 
                </a>
              </li>
            </ul>
            <hr>
            <p>&nbsp &nbsp Group Layers</p>
            <div class="d-flex justify-content-center">
              <button class="btn btn-secondary col-md-9" onclick="openSetTokenModal()">
                Add token
              </button>
            </div>
            <br>
            <div class="d-flex justify-content-center ">
              <select class="form-control col-md-9" id="groupControlSelect" >
              </select>
            </div>
            <hr>
          </div>
        </nav>
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
          <!-- Search Cards-->
          <div class="card mb-3 mt-3">
            <div class="card-header">
              <i class="fas fa-chart-area"></i>
               <a class="text-dark" data-toggle="collapse" href="#collapseCell1">Search</a>
            </div>
            <div class="collapse show" id="collapseCell1">
              <div class="card-body" id="homeMessage">
                <span> Explore any <b>URL</b> featuring Hypothesis annotation. CROWDLAAERS provides learning analytics about active participants, temporal activity (active days), collaborative discourse (threads), and also Hypothesis tags. Groups of individual annotations may be sorted by date, contributor, annotation, tags, and level (or the position of an annotation reply in a thread). Select any annotation to read the full content within CROWDLAAERS or in context of the source document. Or explore how CROWDLAAERS has been applied to curated sets of online texts by selecting from <a href="https://crowdlaaers.org/projects/marginalsyllabus.html"><b>Projects</b></a>.
                </span>
                <div class="input-group mt-3">
                  <input type="text" class="form-control" placeholder="URL" aria-label="Recipient's username" aria-describedby="basic-addon2" id="urlBar">
                  <div class="input-group-append">
                    <button id="urlSearchButton" class="btn btn-secondary" type="button">Search</button> 
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Icon Cards-->
         <div class="row">
           <div class="col-xl-6 col-sm-6 mb-3">
             <div class="card text-secondary border-secondary o-hidden h-100">
               <div class="card-body">
                 <div class="card-body-icon">
                   <i class="fas fa-fw fa-comments"></i>
                 </div>
                 <h4><span id="annotationCounter">0</span></h4>
                 <span class="float-left">Annotations</span>
               </div>
             </div>
           </div>
           <div class="col-xl-6 col-sm-6 mb-3">
             <div class="card text-secondary border-secondary o-hidden h-100">
               <div class="card-body">
                 <div class="card-body-icon">
                   <i class="fas fa-fw fa-list"></i>
                 </div>
                 <h4><span id="participantCounter">0</span></h4>
                 <span class="float-left">Participants</span>
               </div>
             </div>
           </div>
         </div>
         <div class="row">
           <div class="col-xl-4 col-sm-4 mb-3">
             <div class="card text-secondary border-secondary o-hidden h-100">
               <div class="card-body">
                 <div class="card-body-icon">
                   <i class="fas fa-fw fa-shopping-cart"></i>
                 </div>
                 <h4><span id="calendarCounter">0</span></h4>
                 <span class="float-left">Active days</span>
               </div>
             </div>
           </div>
           <div class="col-xl-4 col-sm-4 mb-3">
             <div class="card text-secondary border-secondary o-hidden h-100">
               <div class="card-body">
                 <div class="card-body-icon">
                   <i class="fas fa-fw fa-life-ring"></i>
                 </div>
                 <h4><span id="threadCounter">0</span></h4>
                 <span class="float-left">Threads</span>
               </div>
             </div>
           </div>
           <div class="col-xl-4 col-sm-4 mb-3">
             <div class="card text-secondary border-secondary o-hidden h-100">
               <div class="card-body">
                 <div class="card-body-icon">
                   <i class="fas fa-fw fa-life-ring"></i>
                 </div>
                 <h4><span id="tagCounter">0</span></h4>
                 <span class="float-left">Tags</span>
               </div>
             </div>
           </div>
         </div>

         <div class="card mb-3">
            <div class="card-header">
              <i class="fas fa-chart-area"></i>
              <a class="text-dark" data-toggle="collapse" href="#collapseCell2">Annotations per Contributor</a>
            </div>
            <div class="collapse show" id="collapseCell2">
              <div class="card-body">
                <div id="graphContributors"></div>
              </div>
            </div>
         </div>
         <div class="card mb-3">
            <div class="card-header">
              <i class="fas fa-chart-area"></i>
              <a class="text-dark" data-toggle="collapse" href="#collapseCell3">Annotations per Day</a>
            </div>
            <div class="collapse show" id="collapseCell3">
              <div class="card-body">
                <div id="graphCalendar"></div>
              </div>
            </div>
         </div>
         <div class="card mb-3">
            <div class="card-header">
              <i class="fas fa-chart-area"></i>
              <a class="text-dark" data-toggle="collapse" href="#collapseCell4">Annotations per Thread</a>
            </div>
            <div class="collapse show" id="collapseCell4">
              <div class="card-body">
                <div id="graphThreads"></div>
              </div>
            </div>
         </div>
         <div class="card mb-3">
            <div class="card-header">
              <i class="fas fa-chart-area"></i>
              <a class="text-dark" data-toggle="collapse" href="#collapseCell5">Tags</a>
            </div>
            <div class="collapse show" id="collapseCell5">
              <div class="card-body">
                <div id="graphTags"></div>
              </div>
            </div>
         </div>
         <div class="card mb-3">
            <div class="card-header">
              <i class="fas fa-chart-area"></i>
              <a class="text-dark" data-toggle="collapse" href="#collapseCell6">Annotations</a>
            </div>
            <div class="collapse show" id="collapseCell6">
              <div class="card-body">
                <div id="table_div"></div>
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap flex-row-reverse pt-3 pb-2 mb-3">
                  <div class="btn-toolbar mb-2 mb-md-0">
                    <button class="btn btn-sm btn-outline-secondary float-right" id="resetButton">
                      <span data-feather="refresh-ccw"></span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
         </div>
          
          
        </main>
      </div>
    </div>
    <div class="modal fade" id="annotationModal" tabindex="-1" role="dialog" aria-labelledby="annotationModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="annotationModalLabel"></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div id="annotationModalBody" class="modal-body">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <a id="inContextButton" href="" target="_blank"><button type="button" class="btn btn-primary">In Context</button></a>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="shareURLModal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Copy this URL:</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div id="shareURLModalBody" class="modal-body"></div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="setTokenModal" tabindex="-1" role="dialog" aria-labelledby="setTokenModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="setTokenModalLabel">Enter API token</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div id="setTokanModalBody" class="modal-body">
            <p><a href="https://hypothes.is/" target="_blank">Access your</a> API token via Hypothesis Settings > Developer</p>
            <input class="form-control" type="password" placeholder="" id="tokenInputBar">
          </div>
          <div class="modal-footer">
            <button onclick="setTokenButton()" type="button" class="btn btn-secondary">Set token</button>
          </div>
        </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
        <!-- Icons -->
    <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
    <script>
      feather.replace()
    </script>
  </body>
</html>